import{u,j as e,L as j,F as b,f as w,a as f,r as x,T as N,b as T}from"./index-BblmvpXi.js";import{I as y}from"./ImageComponent-C1gvoppv.js";import{u as v}from"./useFetch-CDU-S6CX.js";import{M as k}from"./MovieCard-VTU5KoQl.js";const I=i=>{var l,h;const{data:{backdrop_path:s,original_title:r,overview:a,release_date:t,id:n}}=i,{data:o}=v({url:`/movie/${n}?append_to_response=videos`},{enabled:!!n}),c=((h=((l=(o==null?void 0:o.videos)||{})==null?void 0:l.results)||[])==null?void 0:h.filter(m=>m.type==="Trailer"))||[],{openModal:p}=u(),d=()=>{var m;p(e.jsx("iframe",{title:"Trailer",className:"aspect-video w-[50vw]",src:`https://www.youtube.com/embed/${((m=c[0])==null?void 0:m.key)||""}`}))};return s?e.jsxs(e.Fragment,{children:[e.jsx(y,{src:s&&`https://image.tmdb.org/t/p/original/${s}`,className:"aspect-video w-full object-cover brightness-50",width:850,height:1500}),e.jsxs("div",{className:"absolute bottom-[15%] left-10 w-1/2 text-white sm:w-1/3",children:[e.jsx("h2",{className:"mb-2 font-bold sm:text-[2vw]",children:r}),e.jsxs("div",{className:"mt-[1.8vw]",children:[e.jsx("p",{className:"inline-block border border-[#ccc] px-2 py-1",children:"PG13"}),e.jsx("p",{className:"mt-[1.2vw] text-[1.2vw]",children:t}),e.jsxs("div",{className:"hidden text-[1.2vw] lg:block",children:[e.jsx("p",{className:"font-bold",children:"Overview"}),e.jsx("p",{className:"mt-4",children:a})]}),e.jsxs("div",{className:"mt-6 flex gap-x-[1vw] text-[1.2vw] text-base",children:[e.jsxs("button",{className:"flex items-center justify-center rounded-lg bg-white px-[3vw] py-[2vw] text-black transition-transform duration-200 hover:scale-105 sm:px-[1.5vw] sm:py-[1vw]",onClick:d,children:[e.jsx(b,{icon:w}),e.jsx("span",{className:"ml-2",children:"Trailer"})]}),e.jsx(f,{to:`/movie/${n}`,children:e.jsx("button",{className:"ml-5 flex items-center justify-center rounded-lg bg-gray-300/30 px-[3vw] py-[2vw] text-white transition-transform duration-200 hover:scale-105 sm:px-[1.5vw] sm:py-[1vw]",children:"ThÃ´ng tin"})})]})]})]})]}):e.jsx(j,{})},C=({setOrder:i,movies:s,order:r})=>e.jsx(e.Fragment,{children:e.jsx("ul",{className:"absolute bottom-[10%] right-[10%] flex gap-x-2",children:s.map((a,t)=>e.jsx("li",{className:`h-1 w-6 cursor-pointer ${r===t?"bg-slate-100":"bg-slate-600"}`,onClick:()=>i(t)},a.id))})}),F=()=>{const[i,s]=x.useState(0),{data:r}=v({url:"/movie/popular"}),a=((r==null?void 0:r.results)||[]).slice(0,4);return x.useEffect(()=>{const t=setInterval(()=>{s(n=>(n+1)%a.length)},5e3);return()=>clearInterval(t)},[a]),e.jsxs("div",{className:"relative",children:[e.jsx(I,{data:a[i]||{}}),e.jsx(C,{setOrder:s,movies:a,order:i})]})},g=({title:i,tabs:s,status:r})=>{var d;const a=localStorage.getItem(r),[t,n]=x.useState(a||((d=s[0])==null?void 0:d.id)),o=s.find(l=>l.id===t),{data:c}=v({url:`/${o.url}`}),p=((c==null?void 0:c.results)||[]).slice(0,16);return x.useEffect(()=>{localStorage.setItem(r,t)},[t,r]),e.jsxs("div",{className:"bg-black px-8 pt-10 text-white",children:[e.jsxs("div",{className:"flex items-center gap-x-10",children:[e.jsx("p",{className:"text-[4vw] font-bold lg:text-[2.5vw]",children:i}),e.jsx("ul",{className:"flex rounded-lg border-2 border-white",children:s.map(l=>e.jsx("li",{className:`px-4 py-2 hover:cursor-pointer hover:bg-white hover:text-black ${t===l.id?"bg-white text-black":""}`,onClick:()=>{n(l.id)},children:l.name},l.id))})]}),e.jsx("div",{className:"mt-10 grid grid-cols-2 gap-[2.5vw] sm:grid-cols-3 lg:grid-cols-5",children:e.jsx(k,{allMovie:p,trending:t})})]})};function E(){return e.jsxs(e.Fragment,{children:[e.jsx(F,{}),e.jsx(g,{title:"Trending",tabs:N,status:"trendingTab"}),e.jsx(g,{title:"Top Rated",tabs:T,status:"topRatedTab"})]})}export{E as default};
