import{j as e,r as v,F as f,c as S,d as y,e as E}from"./index-BblmvpXi.js";import{B as k,A}from"./ActorList-D0aDzQeB.js";import D from"./RelatedMediaList-C4UHU0ja.js";import{u as b}from"./useFetch-CDU-S6CX.js";import{I as u}from"./ImageComponent-C1gvoppv.js";import{C as w}from"./MovieCard-VTU5KoQl.js";const M=({title:a,country:s,status:i,network:r})=>{var c;return e.jsxs("div",{className:"px-5 pt-3",children:[e.jsx("h1",{className:"text-[2vw] font-bold",children:"Information"}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"mt-[1.5vw] font-bold",children:"Original title"}),e.jsx("p",{children:a})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"font-bold",children:"Origin Country"}),e.jsx("p",{children:(s||[]).map(l=>e.jsx("img",{src:`https://flagcdn.com/48x36/${l.toLowerCase()}.png`,className:"mr-1 mt-1 w-[1.5vw]"},l))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"font-bold",children:"Status"}),e.jsx("p",{children:i})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"font-bold",children:"Network"}),e.jsx("img",{src:`https://media.themoviedb.org/t/p/h30/${((c=r==null?void 0:r[0])==null?void 0:c.logo_path)||"1E5baAaEse26fej7uHcjOgEE2t2.jpg"}`,alt:"",className:"mt-3"})]})]})]})},R=({seasonList:a})=>{const[s,i]=v.useState(!1);return v.useEffect(()=>{i(!1)},[a]),e.jsxs("div",{children:[s?(a==null?void 0:a.map(r=>e.jsxs("div",{className:"mt-5 flex gap-x-10 rounded-lg border border-gray-100 p-6 shadow-md",children:[e.jsx(u,{src:r.poster_path&&`https://image.tmdb.org/t/p/w300/${r.poster_path}`,width:220,height:320}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("p",{children:r.name}),e.jsxs("div",{className:"mt-2 flex items-center gap-x-2",children:[e.jsx("span",{children:"Rating"}),e.jsx(w,{percent:r.vote_average*10,strokeColor:r.vote_average>=7?"green":r.vote_average>=5?"orange":"red"})]})]}),e.jsxs("div",{className:"mt-2 flex gap-x-3",children:[e.jsx("p",{children:"Release Day: "}),e.jsx("p",{children:r.air_date})]}),e.jsx("p",{className:"mt-3",children:r.overview})]})]},r.id)))||[]:(a==null?void 0:a.slice(0,3).map(r=>e.jsxs("div",{className:"mt-5 flex gap-x-10 rounded-lg border border-gray-100 p-6 shadow-md",children:[e.jsx(u,{src:r.poster_path&&`https://image.tmdb.org/t/p/w300/${r.poster_path}`,className:"w-1/4 rounded-lg"}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("p",{children:r.name}),e.jsxs("div",{className:"mt-2 flex items-center gap-x-2",children:[e.jsx("span",{children:"Rating"}),e.jsx(w,{percent:r.vote_average*10,strokeColor:r.vote_average>=7?"green":r.vote_average>=5?"orange":"red"})]})]}),e.jsxs("div",{className:"mt-2 flex gap-x-3",children:[e.jsx("p",{children:"Release Day: "}),e.jsx("p",{children:r.air_date})]}),e.jsx("p",{className:"mt-3",children:r.overview})]})]},r.id)))||[],e.jsx("p",{className:"mb-6 mt-3 cursor-pointer",onClick:()=>i(!s),children:s?e.jsxs("span",{children:[e.jsx(f,{icon:S})," Show less"]}):(a==null?void 0:a.length)>=4&&e.jsxs("span",{children:[e.jsx(f,{icon:y})," Show more"]})})]})},T=()=>{var n,m,x,p,h,j,g;const{id:a}=E(),{data:s}=b({url:`/tv/${a}?append_to_response=content_ratings,aggregate_credits,videos`}),{data:i,loading:r}=b({url:`/tv/${a}/recommendations`}),c=((m=(((n=s.content_ratings)==null?void 0:n.results)||[])[0])==null?void 0:m.rating)||"",l=((s==null?void 0:s.genres)||[]).map(t=>t.name).join(" , "),N=(((x=s.aggregate_credits)==null?void 0:x.crew)||[]).filter(t=>{const d=(t.jobs||[]).map(o=>o.job);return["Director","Writer"].some(o=>d.find(C=>C===o))}).slice(0,5).map(t=>({id:t.id,job:t.jobs[0].job,name:t.name})),_=((h=((p=s.videos)==null?void 0:p.results)||[])==null?void 0:h.filter(t=>t.type==="Trailer"))||[];return e.jsxs("div",{children:[e.jsx(k,{backdropPath:s.backdrop_path,title:s.name,posterPath:s.poster_path,overview:s.overview,genres:l,point:Math.round(s.vote_average*10),releaseDate:s.first_air_date,certification:c,crews:N,trailer:_[0]}),e.jsx("div",{className:"bg-black px-12 pt-7 text-[1.3vw] text-white",children:e.jsxs("div",{className:"mx-auto flex max-w-screen-xl gap-6",children:[e.jsxs("div",{className:"flex-[2]",children:[e.jsx(A,{actors:(((j=s.aggregate_credits)==null?void 0:j.cast)||[]).map(t=>{var d;return{...t,character:(d=t.roles[0])==null?void 0:d.character}})}),e.jsx(R,{seasonList:((g=s.seasons)==null?void 0:g.reverse())||[]}),e.jsx(D,{relatedMedia:i,isLoading:r,title:"More like this"})]}),e.jsx("div",{className:"flex-1",children:e.jsx(M,{status:s.status,title:s.name,country:s.origin_country,network:s.networks})})]})})]})};export{T as default};
