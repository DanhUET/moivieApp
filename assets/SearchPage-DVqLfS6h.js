import{u as i,j as e,L as c}from"./index-B-wxiS7c.js";import{u as d}from"./useFetch-C_Tx2ynU.js";import x from"./RelatedMediaList-pT9Ta6CC.js";import"./MovieCard-DFk3_Wr5.js";import"./ImageComponent-DUG43BHd.js";const h=()=>{const{typeFilm:l,genres:n,setGenres:t}=i(),{data:s}=d({url:`/genre/${l}/list`});console.log(n);const o=r=>{n.includes(r)?t(n.filter(a=>a!==r)):t(a=>[...a,r])};return e.jsxs("div",{children:[e.jsx("h1",{className:"text-[1.5vw] font-bold",children:"Genres"}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:((s==null?void 0:s.genres)||[]).map(r=>e.jsx("div",{className:`cursor-pointer rounded-lg border border-gray-200 px-2 py-1 ${n.includes(r.id)?"border bg-black text-white":""}`,onClick:()=>o(r.id),children:e.jsx("p",{children:r.name})},r.id))||{}})]})},m=()=>{const{mediaType:l,typeFilm:n,setTypeFilm:t}=i();return e.jsxs("div",{className:"",children:[e.jsx("h1",{className:"text-[1.5vw] font-bold",children:"Media Type"}),e.jsx("div",{className:"mt-2",children:(l==null?void 0:l.map(s=>e.jsxs("div",{className:"flex cursor-pointer items-center gap-x-2",children:[e.jsx("input",{type:"radio",id:s.id,checked:n===s.name,onChange:()=>t(s.name),className:"cursor-pointer"}),e.jsx("label",{htmlFor:s.id,className:"cursor-pointer",children:s.name})]},s.id)))||[]})]})},p=()=>{const{setStatusRating:l}=i();return e.jsxs("div",{children:[e.jsx("h1",{className:"mt-2 text-[1.5vw] font-bold",children:"Rating"}),e.jsxs("select",{className:"mt-1 cursor-pointer rounded-lg border border-gray-500 px-2 py-1 outline-none",onChange:n=>l(n.target.value),children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"0-49",children:"0- 49"}),e.jsx("option",{value:"50-69",children:"50 - 69"}),e.jsx("option",{value:"70-100",children:"70 - 100"})]})]})},j=()=>e.jsxs("div",{children:[e.jsx(m,{}),e.jsx(h,{}),e.jsx(p,{})]}),g=()=>{const{typeFilm:l,genres:n,statusRating:t}=i(),[s,o]=t==="all"?[0,100]:t.split("-"),{data:r,loading:a}=d({url:`/discover/${l}?sort_by=popularity.desc&with_genres=${n.join(",")}&vote_average.gte=${s/10}&vote_average.lte=${o/10}`});return console.log(t),e.jsxs("div",{children:[e.jsx("h1",{className:"text-center text-[1.7vw] font-bold",children:"Danh sách phim tìm được"}),r?e.jsx(x,{relatedMedia:r,isLoading:a,title:""}):e.jsx(c,{})]})},y=()=>e.jsxs("div",{className:"px-10",children:[e.jsx("h1",{className:"mt-2 text-[1.7vw] font-bold",children:"Search"}),e.jsxs("div",{className:"mt-3 flex gap-x-10",children:[e.jsx("div",{className:"max-h-[70vh] flex-1 rounded-lg border border-gray-100 px-7 py-4 shadow-lg shadow-indigo-500/50",children:e.jsx(j,{})}),e.jsx("div",{className:"flex-[3]",children:e.jsx(g,{})})]})]});export{y as default};
